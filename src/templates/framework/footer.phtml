<?php
use Utils\HtmlUtils;

$numColors = 4;
$buildContainer = function($navRow, $i) use ($numColors) {
   $url = $navRow['url'];
   $viewed = $navRow['is_viewed'];
   $colorIndex = ($i % $numColors) + 1;
   $cClasses = ['circle', "color-{$colorIndex}"];
   if ($viewed) {
      $cClasses[] = "viewing";
   }
   $cStr = implode(' ', $cClasses);
   return "<a class=\"circle-container\" href=\"{$url}\"><div class=\"{$cStr}\">&nbsp;</div></a>";
};

$linksHTML = '';
$count = 0;
foreach ($this->packet->getFooterRows() as $navRow) {
   $linksHTML .= $buildContainer($navRow, $count++);
}

$linksContainerHTML = "<div class=\"links-container\">{$linksHTML}</div>";
?>

<footer class="fixed-footer">
   <?= $linksContainerHTML ?>
</footer>

<footer>
   <?= $linksContainerHTML ?>
</footer>